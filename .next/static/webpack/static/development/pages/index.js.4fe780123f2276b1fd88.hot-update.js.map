{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.4fe780123f2276b1fd88.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Head from 'next/head'\nimport Header from '../src/components/Header'\nimport LeftNav from '../src/components/LeftNav'\nimport Tiles from '../src/components/Tiles'\nimport '../styles/index.scss'\nimport { request } from '../src/utils'\n\nHome.getInitialProps = async ctx => {\n  const res = await request()\n  return { data: res }\n}\n\nexport default function Home({ data }) {\n  const [state, setState] = useState(data)\n\n  const [selectedFilters, setSelectedFilters] = useState({\n    land_success: '',\n    launch_success: '',\n    launch_year: '',\n    limit: 100,\n  })\n\n  const filterHandler = e => {\n    let value = e.target.value\n    if (selectedFilters[e.target.name] == e.target.value) {\n      value = ''\n    }\n\n    setSelectedFilters({\n      ...selectedFilters,\n      [e.target.name]: value,\n    })\n  }\n\n  useEffect(() => {\n    setState(data)\n  }, [])\n\n  useEffect(() => {\n    let query = Object.keys(selectedFilters)\n      .map(\n        k =>\n          encodeURIComponent(k) + '=' + encodeURIComponent(selectedFilters[k])\n      )\n      .join('&')\n    const url = `https://api.spaceXdata.com/v3/launches?${query}`\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        setState(data)\n      })\n  }, [selectedFilters])\n\n  if (!state) {\n    return 'Loading'\n  }\n  return (\n    <div className=\"container\">\n      <Head>\n        <title>SpaceX Launch Programs</title>\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n      <main>\n        <Header />\n        <div className=\"container fluid home\">\n          <div className=\"row\">\n            <div className=\"col-md-2 col-sm-3 filters\">\n              <LeftNav\n                selectedFilters={selectedFilters}\n                data={state}\n                filterHandler={filterHandler}\n              />\n            </div>\n            <div className=\"col-md-10 col-sm-9 tiles\">\n              <Tiles data={state} />\n            </div>\n\t    <div className=\"row\">\n             <div className=\"col-md-12 col-sm-12 d-flex align-items-center justify-content-center\">\n               <h6>Developed by: Sourabh Gupta</h6>\n             </div>\n            </div>\t\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAEA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AAJA;AAHA;AAAA;AACA;AASA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAIA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;A","sourceRoot":""}