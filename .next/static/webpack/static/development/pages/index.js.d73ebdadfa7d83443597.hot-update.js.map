{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.d73ebdadfa7d83443597.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, {\n  useState,\n  useEffect\n} from 'react'\nimport Head from 'next/head'\nimport Header from '../src/components/Header'\nimport LeftNav from '../src/components/LeftNav'\nimport Tiles from '../src/components/Tiles'\nimport '../styles/index.scss'\nimport {\n  request\n} from '../src/utils'\n\nHome.getInitialProps = async ctx => {\n  const res = await request()\n  return {\n    data: res\n  }\n}\n\nexport default function Home({\n  data\n}) {\n  const [state, setState] = useState(data)\n\n  const [selectedFilters, setSelectedFilters] = useState({\n    land_success: '',\n    launch_success: '',\n    launch_year: '',\n    limit: 100,\n  })\n\n  const filterHandler = e => {\n    let value = e.target.value\n    if (selectedFilters[e.target.name] == e.target.value) {\n      value = ''\n    }\n\n    setSelectedFilters({\n      ...selectedFilters,\n      [e.target.name]: value,\n    })\n  }\n\n  useEffect(() => {\n    setState(data)\n  }, [])\n\n  useEffect(() => {\n    let query = Object.keys(selectedFilters)\n      .map(\n        k =>\n        encodeURIComponent(k) + '=' + encodeURIComponent(selectedFilters[k])\n      )\n      .join('&')\n    const url = `https://api.spaceXdata.com/v3/launches?${query}`\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        setState(data)\n      })\n  }, [selectedFilters])\n\n  if (!state) {\n    return 'Loading'\n  }\n  return ( <\n    div className = \"container\" >\n    <\n    Head >\n    <\n    title > SpaceX Launch Programs < /title> <\n    link rel = \"icon\"\n    href = \"/favicon.ico\" / >\n    <\n    /Head> <\n    main >\n    <\n    Header / >\n    <\n    div className = \"container fluid home\" >\n    <\n    div className = \"row\" >\n    <\n    div className = \"col-md-2 col-sm-3 filters\" >\n    <\n    LeftNav selectedFilters = {\n      selectedFilters\n    }\n    data = {\n      state\n    }\n    filterHandler = {\n      filterHandler\n    }\n    /> <\n    /div> <\n    div className = \"col-md-10 col-sm-9 cards\" >\n    <\n    Tiles data = {\n      state\n    }\n    /> <\n    /div> <\n    /div> <\n    /div> <\n    /main> <\n    /div>\n  )\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AADA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAEA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AAJA;AAHA;AAAA;AACA;AASA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAIA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AAGA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;;;;A","sourceRoot":""}